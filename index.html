<!DOCTYPE html> 
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pizzeria Il Semaforo</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- FontAwesome per le icone -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- SwiperJS CSS -->
  <link href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

  <!-- jsPDF per il download PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

  <style>
    /* Cookie Banner */
    .cookie-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 20px;
      z-index: 9999;
      transform: translateY(100%);
      transition: transform 0.5s ease-out;
    }
    
    .cookie-banner.show {
      transform: translateY(0);
    }
    
    .cookie-banner p {
      margin-bottom: 15px;
    }
    
    .cookie-banner-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .cookie-btn {
      padding: 8px 20px;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .cookie-btn-accept {
      background: #dc3545;
      color: white;
      border: none;
    }
    
    .cookie-btn-accept:hover {
      background: #c82333;
      transform: translateY(-2px);
    }
    
    .cookie-btn-reject {
      background: transparent;
      color: white;
      border: 1px solid white;
    }
    
    .cookie-btn-reject:hover {
      background: rgba(255,255,255,0.1);
      transform: translateY(-2px);
    }
    
    .cookie-btn-settings {
      background: transparent;
      color: #dc3545;
      border: none;
    }
    
    .cookie-btn-settings:hover {
      text-decoration: underline;
      transform: translateY(-2px);
    }

    /* Main Styles */
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: #f8f9fa;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    body.loaded {
      opacity: 1;
    }

    header {
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('Pizzeria%20Il%20Semaforo.jpg') center/cover no-repeat;
      color: white;
      text-align: center;
      padding: 150px 20px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 70vh;
      transform: translateY(20px);
      opacity: 0;
      transition: all 0.8s ease;
    }
    
    header.animate {
      transform: translateY(0);
      opacity: 1;
    }

    header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 80px;
      background: white;
      clip-path: polygon(0 0, 100% 100%, 0 100%);
    }

    .hero-content {
      max-width: 800px;
      z-index: 2;
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      margin-bottom: 20px;
    }
    
    header p {
      font-size: 1.5rem;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
      margin-bottom: 30px;
    }

    .testimonial {
      background: #f8f9fa;
      padding: 40px;
      border-radius: 10px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .testimonial:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    footer {
      background: #212529;
      color: white;
      padding: 40px 0;
      text-align: center;
    }

    .social-icons a {
      color: white;
      margin: 0 10px;
      font-size: 24px;
      transition: transform 0.3s, color 0.3s;
    }
    
    .social-icons a:hover {
      color: #dc3545;
      transform: translateY(-3px);
    }

    .navbar-brand img {
      height: 50px;
      transition: transform 0.3s;
    }
    
    .navbar-brand:hover img {
      transform: rotate(10deg);
    }

    .galleria-img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .galleria-img:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }

    .divider-line {
      width: 100%;
      height: 1px;
      background-color: #ddd;
      margin: 30px 0;
      opacity: 0;
      transform: scaleX(0);
      transform-origin: left;
      transition: opacity 0.5s, transform 1s;
    }
    
    .divider-line.animate {
      opacity: 1;
      transform: scaleX(1);
    }

    .btn-galleria {
      background-color: #dc3545;
      color: white;
      padding: 10px 30px;
      border-radius: 30px;
      font-weight: bold;
      margin-top: 20px;
      border: none;
      transition: all 0.3s;
      transform: translateY(0);
    }

    .btn-galleria:hover {
      background-color: #c82333;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .btn-galleria:active {
      transform: translateY(1px);
    }

    /* Stili per la galleria */
    #galleria {
      display: none;
      padding: 40px 0;
    }

    .galleria-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }

    .galleria-title {
      text-align: center;
      margin-bottom: 30px;
      color: #dc3545;
      position: relative;
    }
    
    .galleria-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: #dc3545;
    }

    .galleria-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .galleria-item {
      overflow: hidden;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    
    .galleria-item:hover {
      transform: translateY(-5px);
    }

    .galleria-item img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      transition: transform 0.5s;
    }

    .galleria-item img:hover {
      transform: scale(1.1);
    }

    .btn-back {
      display: block;
      margin: 30px auto;
      background-color: #6c757d;
      color: white;
      padding: 10px 30px;
      border-radius: 30px;
      font-weight: bold;
      border: none;
      transition: all 0.3s;
    }

    .btn-back:hover {
      background-color: #5a6268;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    /* Stili per il menu fisso */
    .menu-section {
      background-color: #fff;
      padding: 40px 0;
      text-align: center;
    }
    
    .menu-card {
      background-color: #f8f9fa;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: 0 auto;
      transition: transform 0.3s;
    }
    
    .menu-card:hover {
      transform: translateY(-5px);
    }
    
    .menu-title {
      color: #dc3545;
      margin-bottom: 30px;
      font-weight: bold;
      position: relative;
    }
    
    .menu-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: #dc3545;
    }
    
    .menu-price {
      font-size: 1.5rem;
      font-weight: bold;
      color: #dc3545;
      margin: 20px 0;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .menu-includes {
      text-align: left;
      margin: 20px 0;
    }
    
    .menu-includes li {
      margin-bottom: 10px;
      position: relative;
      padding-left: 20px;
    }
    
    .menu-includes li::before {
      content: '•';
      color: #dc3545;
      position: absolute;
      left: 0;
      font-size: 1.2em;
    }
    
    /* Stili per gli orari animati */
    .orari-section {
      background-color: #f8f9fa;
      padding: 40px 0;
      text-align: center;
    }
    
    .orari-title {
      color: #dc3545;
      margin-bottom: 30px;
      font-weight: bold;
    }
    
    .orari-box {
      background-color: #fff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      max-width: 500px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
      transition: transform 0.3s;
    }
    
    .orari-box:hover {
      transform: translateY(-5px);
    }
    
    .orari-text {
      font-size: 1.2rem;
      margin: 0;
      position: relative;
      z-index: 2;
    }
    
    .orari-animazione {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      background: linear-gradient(90deg, transparent, rgba(220, 53, 69, 0.1), transparent);
      animation: orariScorrimento 3s infinite;
      z-index: 1;
    }
    
    @keyframes orariScorrimento {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* Stili per il menu a tendina */
    .menu-dropdown {
      position: relative;
      display: inline-block;
    }
    
    .menu-dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      min-width: 200px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 5px;
      right: 0;
      animation: fadeIn 0.3s;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .menu-dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      transition: background-color 0.2s;
    }
    
    .menu-dropdown-content a:hover {
      background-color: #f1f1f1;
      border-radius: 5px;
    }
    
    .menu-dropdown:hover .menu-dropdown-content {
      display: block;
    }
    
    /* Stili per il pulsante PDF */
    .btn-pdf {
      background-color: #dc3545;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      font-weight: bold;
      border: none;
      transition: all 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-top: 20px;
    }
    
    .btn-pdf:hover {
      background-color: #c82333;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    /* Stili per la pagina del menu */
    #menu-page {
      display: none;
      padding: 40px 0;
    }
    
    .menu-page-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    .menu-page-title {
      text-align: center;
      margin-bottom: 30px;
      color: #dc3545;
      position: relative;
    }
    
    .menu-page-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: #dc3545;
    }
    
    .menu-page-content {
      background-color: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    
    .menu-page-content:hover {
      transform: translateY(-5px);
    }
    
    .menu-category {
      margin-bottom: 30px;
    }
    
    .menu-category-title {
      color: #dc3545;
      border-bottom: 2px solid #dc3545;
      padding-bottom: 10px;
      margin-bottom: 20px;
      position: relative;
    }
    
    .menu-category-title::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 50px;
      height: 2px;
      background: #dc3545;
    }
    
    .menu-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      transition: transform 0.3s;
    }
    
    .menu-item:hover {
      transform: translateX(5px);
    }
    
    .menu-item-name {
      font-weight: bold;
    }
    
    .menu-item-price {
      color: #dc3545;
      font-weight: bold;
    }
    
    .menu-item-description {
      font-size: 0.9em;
      color: #666;
      margin-top: 5px;
    }

    /* Pulsante WhatsApp */
    .whatsapp-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background-color: #25D366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 1000;
      transition: all 0.3s;
      text-decoration: none;
      animation: pulse 2s infinite;
    }

    .whatsapp-button:hover {
      background-color: #128C7E;
      transform: scale(1.1);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
      animation: none;
    }

    /* Stili per il modal di autenticazione */
    .auth-modal {
      display: none;
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      animation: fadeInModal 0.3s;
    }
    
    @keyframes fadeInModal {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .auth-modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 30px;
      border-radius: 10px;
      max-width: 400px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transform: translateY(-20px);
      transition: transform 0.3s;
    }
    
    .auth-modal.show .auth-modal-content {
      transform: translateY(0);
    }

    .auth-tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid #ddd;
    }

    .auth-tab {
      padding: 10px 20px;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s;
    }
    
    .auth-tab:hover {
      color: #dc3545;
    }

    .auth-tab.active {
      border-bottom: 3px solid #dc3545;
      font-weight: bold;
      color: #dc3545;
    }

    .auth-form {
      display: none;
    }

    .auth-form.active {
      display: block;
      animation: fadeInForm 0.5s;
    }
    
    @keyframes fadeInForm {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .auth-form input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    
    .auth-form input:focus {
      border-color: #dc3545;
      box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2);
      outline: none;
    }

    .auth-form button {
      width: 100%;
      padding: 10px;
      background-color: #dc3545;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .auth-form button:hover {
      background-color: #c82333;
      transform: translateY(-2px);
    }
    
    .auth-form button:active {
      transform: translateY(1px);
    }

    .auth-error {
      color: #dc3545;
      margin-top: 10px;
      font-size: 14px;
      animation: shake 0.5s;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-5px); }
      40%, 80% { transform: translateX(5px); }
    }

    .auth-success {
      color: #28a745;
      margin-top: 10px;
      font-size: 14px;
      animation: fadeIn 0.5s;
    }

    .close-auth-modal {
      float: right;
      font-size: 24px;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .close-auth-modal:hover {
      color: #dc3545;
    }

    /* Stili per lo stato di autenticazione */
    .auth-status {
      display: flex;
      align-items: center;
      margin-left: 20px;
    }

    .auth-status img {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      margin-right: 10px;
      transition: transform 0.3s;
    }
    
    .auth-status img:hover {
      transform: scale(1.1);
    }

    .auth-status span {
      margin-right: 10px;
    }

    .auth-status button {
      background: none;
      border: none;
      color: #dc3545;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .auth-status button:hover {
      color: #c82333;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      cursor: pointer;
      transition: transform 0.3s;
    }
    
    .user-avatar:hover {
      transform: scale(1.1);
    }

    /* Stili per la sezione eventi */
    #eventi-page {
      display: none;
      padding: 40px 0;
      text-align: center;
    }

    .eventi-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 15px;
    }

    .eventi-title {
      color: #dc3545;
      margin-bottom: 30px;
      position: relative;
    }
    
    .eventi-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: #dc3545;
    }

    .eventi-content {
      background-color: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    
    .eventi-content:hover {
      transform: translateY(-5px);
    }

    .evento-card {
      background-color: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      text-align: left;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .evento-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    }

    .evento-title {
      color: #dc3545;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .evento-date {
      font-weight: bold;
      margin-bottom: 10px;
      color: #6c757d;
    }

    /* Stili per il messaggio di autenticazione richiesta */
    .auth-required {
      text-align: center;
      padding: 30px;
      background-color: #f8f9fa;
      border-radius: 10px;
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }

    .auth-required p {
      margin-bottom: 20px;
    }

    .btn-accedi {
      background-color: #28a745;
      color: white;
      padding: 8px 20px;
      border-radius: 30px;
      font-weight: bold;
      border: none;
      transition: all 0.3s;
      margin-left: 10px;
    }

    .btn-accedi:hover {
      background-color: #218838;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    /* Loading Animation */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #dc3545;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s, visibility 0.5s;
    }
    
    .loading-logo {
      width: 150px;
      height: 150px;
      margin-bottom: 20px;
      animation: bounce 1.5s infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #dc3545;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #c82333;
    }
    
    /* Hover effects for nav items */
    .nav-link {
      position: relative;
      transition: color 0.3s;
    }
    
    .nav-link:hover {
      color: #dc3545 !important;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: #dc3545;
      transition: width 0.3s;
    }
    
    .nav-link:hover::after {
      width: 100%;
    }
    
    /* Map hover effect */
    iframe {
      transition: transform 0.3s, box-shadow 0.3s;
      border-radius: 10px;
    }
    
    iframe:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>

<!-- Loading Screen -->
<div class="loading-screen" id="loading-screen">
  <img src="logo1.jpg" alt="Logo Pizzeria Il Semaforo" class="loading-logo">
  <div class="loading-spinner"></div>
</div>

<!-- Cookie Banner -->
<div class="cookie-banner" id="cookie-banner">
  <p>Utilizziamo i cookie per migliorare la tua esperienza sul nostro sito. Accetta i cookie per accedere a tutti i contenuti.</p>
  <div class="cookie-banner-buttons">
    <button class="cookie-btn cookie-btn-accept" onclick="acceptCookies()">Accetta tutti</button>
    <button class="cookie-btn cookie-btn-reject" onclick="rejectCookies()">Rifiuta</button>
    <button class="cookie-btn cookie-btn-settings" onclick="showCookieSettings()">Impostazioni</button>
  </div>
</div>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img src="logo1.jpg" alt="Logo Pizzeria Il Semaforo" class="logo">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#" onclick="showMainPage()">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="#" onclick="showGalleria()">Galleria</a></li>
        <li class="nav-item menu-dropdown">
          <a class="nav-link" href="#">Menù <i class="fas fa-chevron-down"></i></a>
          <div class="menu-dropdown-content">
            <a href="#" onclick="showMenuPage()">Visualizza Menù</a>
            <a href="#" onclick="downloadPDF()">Scarica PDF</a>
          </div>
        </li>
        <li class="nav-item"><a class="nav-link" href="#" onclick="showEventiPage()">Eventi</a></li>
        <li class="nav-item" id="auth-nav-item">
          <div class="auth-status" id="auth-status">
            <button class="nav-link" onclick="showAuthModal('login')">Accedi / Registrati</button>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Modal di autenticazione -->
<div id="auth-modal" class="auth-modal">
  <div class="auth-modal-content">
    <span class="close-auth-modal" onclick="closeAuthModal()">&times;</span>
    <div class="auth-tabs">
      <div class="auth-tab active" onclick="switchAuthTab('login')">Accedi</div>
      <div class="auth-tab" onclick="switchAuthTab('register')">Registrati</div>
    </div>
    
    <div id="login-form" class="auth-form active">
      <h3>Accedi al tuo account</h3>
      <input type="email" id="login-email" placeholder="Email" required>
      <input type="password" id="login-password" placeholder="Password" required>
      <button onclick="loginUser()">Accedi</button>
      <div id="login-error" class="auth-error"></div>
      <div id="login-success" class="auth-success"></div>
    </div>
    
    <div id="register-form" class="auth-form">
      <h3>Crea un nuovo account</h3>
      <input type="text" id="register-name" placeholder="Nome" required>
      <input type="email" id="register-email" placeholder="Email" required>
      <input type="password" id="register-password" placeholder="Password (min. 6 caratteri)" required>
      <button onclick="registerUser()">Registrati</button>
      <div id="register-error" class="auth-error"></div>
      <div id="register-success" class="auth-success"></div>
    </div>
  </div>
</div>

<!-- Pagina principale -->
<div id="main-page">
  <!-- Hero -->
  <header>
    <div class="hero-content">
      <h1>Pizzeria Il Semaforo</h1>
      <p>Un angolo di tradizione e innovazione culinaria nel cuore di Campi Bisenzio!</p>
      <button class="btn-galleria" onclick="showGalleria()">Galleria</button>
    </div>
  </header>

  <!-- Chi Siamo -->
  <section class="py-4">
    <div class="container">
      <h3><strong>Circa un anno fa, la nostra pizzeria "Il Semaforo" &egrave; nata da un sogno condiviso da una famiglia molto unita.</strong></h3>
      <p class="mt-3">Provenivamo da un altro settore, ma la nostra passione per la cucina e l'amore per la tradizione ci hanno spinti a intraprendere questa nuova avventura. Non &egrave; stato un percorso facile; ci sono stati sacrifici, lunghe giornate di lavoro e momenti di grande impegno da parte di tutti noi, dai ragazzi ai cuochi. Tuttavia, con determinazione e tanto lavoro, siamo riusciti a trasformare il nostro sogno in realt&agrave;.</p>
      <p>Oggi, possiamo raccontare con orgoglio il nostro viaggio e accogliervi nella nostra pizzeria con lo stesso entusiasmo con cui l'abbiamo creata.</p>
    </div>
  </section>

  <!-- Linea divisoria -->
  <div class="divider-line"></div>

  <!-- Linea divisoria -->
  <div class="divider-line"></div>

<!-- Orari di Apertura Animati -->
<section class="orari-section">
  <div class="container">
    <h2 class="orari-title">I NOSTRI ORARI <span style="color: #dc3545;">| I NOSTRI PREZZI</span></h2>
    <div class="orari-box">
      <div class="orari-animazione"></div>
      <p class="orari-text">
        <strong>APERTI DAL GIOVEDÌ ALLA DOMENICA</strong><br>
        DALLE 19:00 ALLE 23:00<br><br>
        <span style="color: #dc3545; font-weight: bold;">MENÙ FISSO 20€</span>
      </p>
    </div>
  </div>
</section>

  <!-- Linea divisoria -->
  <div class="divider-line"></div>

  <!-- Mappa -->
  <section class="py-4">
    <div class="container text-center">
      <h2>APRI LA MAPPA E SCOPRI DOVE SIAMO!</h2>
      <div class="mt-4">
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1462.4312215232844!2d11.1203234!3d43.8093687!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x132a59b7d8859209%3A0x98788d2f085c6016!2sPizzeria%20Il%20Semaforo!5e0!3m2!1sit!2sit!4v1695151262428!5m2!1sit!2sit" 
          width="100%" 
          height="450" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy">
        </iframe>
      </div>
    </div>
  </section>

  <!-- Linea divisoria -->
  <div class="divider-line"></div>

  <!-- Testimonianze -->
  <section class="py-4">
    <div class="container">
      <h2 class="text-center mb-4">Cosa dicono di noi</h2>
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">

          <!-- Testimonianza 1 -->
          <div class="swiper-slide testimonial text-center">
            <i class="fas fa-quote-left fa-2x mb-3"></i>
            <p class="lead">"La pizza più buona che abbia mai mangiato!<br>Ingredienti freschi e personale super cordiale."</p>
            <div class="mt-3">
              <p><strong>Giulia Rossi</strong><br><small>Cliente</small></p>
            </div>
          </div>

          <!-- Testimonianza 2 -->
          <div class="swiper-slide testimonial text-center">
            <i class="fas fa-quote-left fa-2x mb-3"></i>
            <p class="lead">"Servizio eccellente e pizze spettacolari!<br>Un punto di riferimento a Campi Bisenzio."</p>
            <div class="mt-3">
              <p><strong>Marco Bianchi</strong><br><small>Cliente abituale</small></p>
            </div>
          </div>

          <!-- Testimonianza 3 -->
          <div class="swiper-slide testimonial text-center">
            <i class="fas fa-quote-left fa-2x mb-3"></i>
            <p class="lead">"Locale accogliente e personale gentilissimo.<br>La pizza è davvero top!"</p>
            <div class="mt-3">
              <p><strong>Laura Verdi</strong><br><small>Cliente</small></p>
            </div>
          </div>

          <!-- Testimonianza 4 -->
          <div class="swiper-slide testimonial text-center">
            <i class="fas fa-quote-left fa-2x mb-3"></i>
            <p class="lead">"Ottimi ingredienti e grande attenzione ai dettagli.<br>Consigliatissimo!"</p>
            <div class="mt-3">
              <p><strong>Francesco Neri</strong><br><small>Cliente affezionato</small></p>
            </div>
          </div>

        </div>

        <!-- Bottoni freccia -->
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    </div>
  </section>
</div>

<!-- Galleria -->
<div id="galleria">
  <div class="galleria-container">
    <h2 class="galleria-title">La nostra galleria</h2>
    <div class="galleria-grid">
      <!-- Immagini della galleria da 1.jpg a 10.jpg -->
      <div class="galleria-item">
        <img src="1.jpg" alt="Immagine galleria 1">
      </div>
      <div class="galleria-item">
        <img src="2.jpg" alt="Immagine galleria 2">
      </div>
      <div class="galleria-item">
        <img src="3.jpg" alt="Immagine galleria 3">
      </div>
      <div class="galleria-item">
        <img src="4.jpg" alt="Immagine galleria 4">
      </div>
      <div class="galleria-item">
        <img src="5.jpg" alt="Immagine galleria 5">
      </div>
      <div class="galleria-item">
        <img src="6.jpg" alt="Immagine galleria 6">
      </div>
      <div class="galleria-item">
        <img src="7.jpg" alt="Immagine galleria 7">
      </div>
      <div class="galleria-item">
        <img src="8.jpg" alt="Immagine galleria 8">
      </div>
      <div class="galleria-item">
        <img src="9.jpg" alt="Immagine galleria 9">
      </div>
      <div class="galleria-item">
        <img src="10.jpg" alt="Immagine galleria 10">
      </div>
    </div>
    <button class="btn-back" onclick="showMainPage()">Torna alla Home</button>
  </div>
</div>

<!-- Pagina del menu -->
<div id="menu-page">
  <div class="menu-page-container">
    <h2 class="menu-page-title">Il Nostro Menù Completo</h2>
    <div class="menu-page-content">
      <div class="menu-category">
        <h3 class="menu-category-title">ANTIPASTI</h3>
        <div class="menu-item-description">Una selezione dei migliori salumi toscani accompagnati da schiacciata calda appena sfornata e verdure sott'olio </div>
          </div>
        
       <div class="menu-category">
        <h3 class="menu-category-title">GIRO PIZZA NO STOP</h3>
        <div class="menu-item">
        <div class="menu-item-description">Un viaggio attraverso i sapori della nostra tradizione. Richiedi al cameriere i gusti e crea la tua selezione personalizzata</div>
          </div>
      </div>
      <div class="menu-category">
        <h3 class="menu-category-title">DOLCI</h3>
        <div class="menu-item">
          <div class="menu-item-description">Tiramisù</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-item-description">Panna Cotta</div>
        </div>

                <div class="menu-item">
          <div class="menu-item-description">Torta al Cioccolato</div>
        </div>

                        <div class="menu-item">
          <div class="menu-item-description">Torta di mele</div>
        </div>

                        <div class="menu-item">
          <div class="menu-item-description">Cheese Cake</div>
        </div>
        
        <div class="menu-item">
          <div class="menu-item-description">Torta della Nonna</div>
        </div>

                                <div class="menu-item">
          <div class="menu-item-description">Sorbetto al limone</div>
        </div>
      </div>
      
      <div class="menu-category">
        <h3 class="menu-category-title">BEVANDE</h3>
        <div class="menu-item">
          <div class="menu-item-description">Bibita piccola (33 cl) inclusa nel menù</div>
        </div>
      </div>
      
      <button class="btn-pdf" onclick="downloadPDF()" style="margin-top: 30px;">
        <i class="fas fa-file-pdf"></i> Scarica Menù PDF
      </button>
      <button class="btn-back" onclick="showMainPage()" style="margin-top: 15px;">Torna alla Home</button>
    </div>
  </div>
</div>

<!-- Pagina degli eventi -->
<div id="eventi-page">
  <div class="eventi-container">
    <h2 class="eventi-title">I Nostri Eventi Speciali</h2>
    <div class="eventi-content">
      <div id="auth-required-message" class="auth-required" style="display: none;">
        <h3>Accesso Richiesto</h3>
        <p>Per visualizzare gli eventi speciali è necessario registrarsi o accedere al tuo account.</p>
        <button class="btn-accedi" onclick="showAuthModal('login')">Accedi o Registrati</button>
      </div>
      
      <div id="eventi-content" style="display: none;">
        <div class="evento-card">
          <h3 class="evento-title">PRESTO ALTRE NOVITA'</h3>
          <p>Resta connesso/a per scoprire tutte le novità!</p>
        </div>
        
        <div class="evento-card">
          <h3 class="evento-title">PRESTO ALTRE NOVITA'</h3>
          <p>Resta connesso/a per scoprire tutte le novità</p>
        </div>
        
        <div class="evento-card">
          <h3 class="evento-title">PRESTO ALTRE NOVITA'</h3>
          <p>Resta connesso/a per scoprire tutte le novità</p>
        </div>
        
        <button class="btn-back" onclick="showMainPage()">Torna alla Home</button>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="social-icons mb-3">
      <a href="https://www.facebook.com/share/1C1YCfUDes/" target="_blank"><i class="fab fa-facebook-f"></i></a>
      <a href="https://www.instagram.com/pizzeriailsemaforo?igsh=YWFvbTQyb2NyZmo=" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://www.tiktok.com/@ilsemaforopizzeria?_t=ZN-8yBpSv8H5JG&_r=1" target="_blank"><i class="fab fa-tiktok"></i></a>
    </div>
    <p>Pizzeria Il Semaforo - Via Palagetta 50013 Campi Bisenzio<br>
      <i class="fas fa-phone"></i> +39 3403046310</p>
    <p>Copyright 2025 &copy; Pizzeria Il Semaforo</p>
  </div>
</footer>

<!-- Pulsante WhatsApp fisso -->
<a href="https://wa.me/393403046310?text=Ciao!%20Vorrei%20prenotare%20un%20tavolo" class="whatsapp-button" target="_blank">
  <i class="fab fa-whatsapp"></i>
</a>

<!-- Bootstrap Bundle JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- SwiperJS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<script>
  // Configurazione Firebase (sostituisci con i tuoi dati)
  const firebaseConfig = {
    apiKey: "AIzaSyBQSHJ2nc28gCaUaW4lSwgnDxu8Di_a0PE",
    authDomain: "pizzeria-ecdb1.firebaseapp.com",
    databaseURL: "https://pizzeria-ecdb1-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "pizzeria-ecdb1",
    storageBucket: "pizzeria-ecdb1.appspot.com",
    messagingSenderId: "158160186180",
    appId: "1:158160186180:web:f3040c3e8c88d950c18511"
  };

  // Inizializza Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Inizializza Swiper
  const swiper = new Swiper('.mySwiper', {
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false,
    }
  });

  // Cookie functions
  function checkCookies() {
    if (!localStorage.getItem('cookiesAccepted')) {
      setTimeout(() => {
        document.getElementById('cookie-banner').classList.add('show');
      }, 2000);
    }
  }
  
  function acceptCookies() {
    localStorage.setItem('cookiesAccepted', 'true');
    document.getElementById('cookie-banner').classList.remove('show');
  }
  
  function rejectCookies() {
    localStorage.setItem('cookiesRejected', 'true');
    document.getElementById('cookie-banner').classList.remove('show');
  }
  
  function showCookieSettings() {
    alert('Impostazioni cookie: Attualmente utilizziamo solo cookie essenziali per il funzionamento del sito.');
  }

  // Funzioni per mostrare/nascondere pagine
  function showGalleria() {
    document.getElementById('main-page').style.display = 'none';
    document.getElementById('menu-page').style.display = 'none';
    document.getElementById('eventi-page').style.display = 'none';
    document.getElementById('galleria').style.display = 'block';
    window.scrollTo(0, 0);
    
    // Animazione elementi galleria
    const items = document.querySelectorAll('.galleria-item');
    items.forEach((item, index) => {
      item.style.opacity = '0';
      item.style.transform = 'translateY(20px)';
      setTimeout(() => {
        item.style.transition = 'opacity 0.5s, transform 0.5s';
        item.style.opacity = '1';
        item.style.transform = 'translateY(0)';
      }, 100 + index * 100);
    });
  }

  function showMainPage() {
    document.getElementById('galleria').style.display = 'none';
    document.getElementById('menu-page').style.display = 'none';
    document.getElementById('eventi-page').style.display = 'none';
    document.getElementById('main-page').style.display = 'block';
    window.scrollTo(0, 0);
    
    // Animazione header
    document.querySelector('header').classList.add('animate');
    
    // Animazione divider lines
    setTimeout(() => {
      const dividers = document.querySelectorAll('.divider-line');
      dividers.forEach(divider => {
        divider.classList.add('animate');
      });
    }, 500);
  }
  
  function showMenuPage() {
    document.getElementById('main-page').style.display = 'none';
    document.getElementById('galleria').style.display = 'none';
    document.getElementById('eventi-page').style.display = 'none';
    document.getElementById('menu-page').style.display = 'block';
    window.scrollTo(0, 0);
    
    // Animazione elementi menu
    const items = document.querySelectorAll('.menu-item');
    items.forEach((item, index) => {
      item.style.opacity = '0';
      item.style.transform = 'translateX(-20px)';
      setTimeout(() => {
        item.style.transition = 'opacity 0.3s, transform 0.3s';
        item.style.opacity = '1';
        item.style.transform = 'translateX(0)';
      }, 100 + index * 50);
    });
  }

  function showEventiPage() {
    document.getElementById('main-page').style.display = 'none';
    document.getElementById('galleria').style.display = 'none';
    document.getElementById('menu-page').style.display = 'none';
    document.getElementById('eventi-page').style.display = 'block';
    window.scrollTo(0, 0);
    
    // Controlla se l'utente è autenticato
    const user = auth.currentUser;
    if (user) {
      document.getElementById('auth-required-message').style.display = 'none';
      document.getElementById('eventi-content').style.display = 'block';
      
      // Animazione eventi
      const cards = document.querySelectorAll('.evento-card');
      cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        setTimeout(() => {
          card.style.transition = 'opacity 0.5s, transform 0.5s';
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, 100 + index * 150);
      });
    } else {
      document.getElementById('auth-required-message').style.display = 'block';
      document.getElementById('eventi-content').style.display = 'none';
    }
  }

  // Funzioni per l'autenticazione
  function showAuthModal(tab) {
    document.getElementById('auth-modal').style.display = 'block';
    setTimeout(() => {
      document.getElementById('auth-modal').classList.add('show');
    }, 10);
    switchAuthTab(tab);
  }
  
  function closeAuthModal() {
    document.getElementById('auth-modal').classList.remove('show');
    setTimeout(() => {
      document.getElementById('auth-modal').style.display = 'none';
    }, 300);
    clearAuthErrors();
  }

  function switchAuthTab(tab) {
    // Nascondi tutti i form
    document.querySelectorAll('.auth-form').forEach(form => {
      form.classList.remove('active');
    });
    
    // Rimuovi active da tutte le tab
    document.querySelectorAll('.auth-tab').forEach(tabElement => {
      tabElement.classList.remove('active');
    });
    
    // Mostra il form corretto e attiva la tab
    if (tab === 'login') {
      document.getElementById('login-form').classList.add('active');
      document.querySelectorAll('.auth-tab')[0].classList.add('active');
    } else {
      document.getElementById('register-form').classList.add('active');
      document.querySelectorAll('.auth-tab')[1].classList.add('active');
    }
    
    clearAuthErrors();
  }

  function clearAuthErrors() {
    document.getElementById('login-error').textContent = '';
    document.getElementById('register-error').textContent = '';
    document.getElementById('login-success').textContent = '';
    document.getElementById('register-success').textContent = '';
  }

function registerUser() {
  const name = document.getElementById('register-name').value;
  const email = document.getElementById('register-email').value;
  const password = document.getElementById('register-password').value;
  const errorElement = document.getElementById('register-error');
  const successElement = document.getElementById('register-success');
  
  if (password.length < 6) {
    errorElement.textContent = 'La password deve contenere almeno 6 caratteri';
    return;
  }
  
  auth.createUserWithEmailAndPassword(email, password)
    .then((userCredential) => {
      const user = userCredential.user;
      return user.updateProfile({
        displayName: name
      });
    })
    .then(() => {
      successElement.textContent = 'Registrazione completata con successo!';
      errorElement.textContent = '';
      updateAuthUI();
      setTimeout(closeAuthModal, 2000);
      
      if (document.getElementById('eventi-page').style.display === 'block') {
        showEventiPage();
      }
    })
    .catch((error) => {
      // Personalizza i messaggi di errore
      let errorMessage;
      switch(error.code) {
        case 'auth/email-already-in-use':
          errorMessage = 'Questo indirizzo email è già in uso';
          break;
        case 'auth/invalid-email':
          errorMessage = 'Indirizzo email non valido';
          break;
        case 'auth/weak-password':
          errorMessage = 'La password è troppo debole';
          break;
        default:
          errorMessage = 'Si è verificato un errore durante la registrazione';
      }
      errorElement.textContent = errorMessage;
      successElement.textContent = '';
    });
}

  function loginUser() {
  const email = document.getElementById('login-email').value;
  const password = document.getElementById('login-password').value;
  const errorElement = document.getElementById('login-error');
  const successElement = document.getElementById('login-success');
  
  auth.signInWithEmailAndPassword(email, password)
    .then(() => {
      successElement.textContent = 'Accesso effettuato con successo!';
      errorElement.textContent = '';
      updateAuthUI();
      setTimeout(closeAuthModal, 2000);
      
      if (document.getElementById('eventi-page').style.display === 'block') {
        showEventiPage();
      }
    })
    .catch((error) => {
      // Personalizza i messaggi di errore
      let errorMessage;
      switch(error.code) {
        case 'auth/invalid-email':
          errorMessage = 'Indirizzo email non valido';
          break;
        case 'auth/user-disabled':
          errorMessage = 'Account disabilitato';
          break;
        case 'auth/user-not-found':
          errorMessage = 'Utente non trovato';
          break;
        case 'auth/wrong-password':
          errorMessage = 'Password errata';
          break;
        default:
          errorMessage = 'Si è verificato un errore durante l\'accesso';
      }
      errorElement.textContent = errorMessage;
      successElement.textContent = '';
    });
}

  function logoutUser() {
    auth.signOut()
      .then(() => {
        updateAuthUI();
        // Se siamo nella pagina eventi, mostra il messaggio di autenticazione richiesta
        if (document.getElementById('eventi-page').style.display === 'block') {
          showEventiPage();
        }
      })
      .catch((error) => {
        console.error('Errore durante il logout:', error);
      });
  }

  function updateAuthUI() {
    const user = auth.currentUser;
    const authStatusElement = document.getElementById('auth-status');
    
    if (user) {
      // Utente loggato
      authStatusElement.innerHTML = `
        <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(user.displayName || 'Utente')}&background=dc3545&color=fff" class="user-avatar">
        <span>${user.displayName || 'Utente'}</span>
        <button onclick="logoutUser()"><i class="fas fa-sign-out-alt"></i></button>
      `;
    } else {
      // Utente non loggato
      authStatusElement.innerHTML = `
        <button class="nav-link" onclick="showAuthModal('login')">Accedi / Registrati</button>
      `;
    }
  }

  // Gestione dello stato di autenticazione
  auth.onAuthStateChanged((user) => {
    updateAuthUI();
    
    // Se siamo nella pagina eventi, aggiorna il contenuto in base all'autenticazione
    if (document.getElementById('eventi-page').style.display === 'block') {
      showEventiPage();
    }
  });

  // Funzione per generare il PDF del menu
  function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    
    // Titolo
    doc.setFontSize(22);
    doc.setTextColor(220, 53, 69);
    doc.text('Menù Pizzeria Il Semaforo', 105, 15, null, null, 'center');
    
    // Logo
    const logo = new Image();
    logo.src = 'logo1.jpg';
    doc.addImage(logo, 'JPEG', 85, 20, 40, 40);
    
    // Sezioni del menu
    doc.setFontSize(16);
    doc.setTextColor(0, 0, 0);
    
    let yPosition = 70;
    
    // Antipasti
    doc.text('ANTIPASTI', 14, yPosition);
    yPosition += 10;
    doc.setFontSize(12);
    doc.text('Una selezione dei migliori salumi toscani accompagnati da schiacciata calda', 14, yPosition);
    yPosition += 5;
    doc.text('appena sfornata e verdure sott\'olio', 14, yPosition);
    yPosition += 15;
    
    // Giro Pizza
    doc.setFontSize(16);
    doc.text('GIRO PIZZA NO STOP', 14, yPosition);
    yPosition += 10;
    doc.setFontSize(12);
    doc.text('Un viaggio attraverso i sapori della nostra tradizione. Richiedi al cameriere', 14, yPosition);
    yPosition += 5;
    doc.text('i gusti e crea la tua selezione personalizzata', 14, yPosition);
    yPosition += 15;
    
    // Dolci
    doc.setFontSize(16);
    doc.text('DOLCI', 14, yPosition);
    yPosition += 10;
    doc.setFontSize(12);
    const dolci = [
      'Tiramisù',
      'Panna Cotta',
      'Torta al Cioccolato',
      'Torta di mele',
      'Cheese Cake',
      'Torta della Nonna',
      'Sorbetto al limone'
    ];
    
    dolci.forEach(dolce => {
      doc.text('- ' + dolce, 14, yPosition);
      yPosition += 7;
    });
    
    yPosition += 10;
    
    // Bevande
    doc.setFontSize(16);
    doc.text('BEVANDE', 14, yPosition);
    yPosition += 10;
    doc.setFontSize(12);
    doc.text('Bibita piccola (33 cl) inclusa nel menù', 14, yPosition);
    
    // Footer
    doc.setFontSize(10);
    doc.setTextColor(100, 100, 100);
    doc.text('Pizzeria Il Semaforo - Via Palagetta 50013 Campi Bisenzio', 105, 285, null, null, 'center');
    doc.text('Tel: +39 3403046310', 105, 290, null, null, 'center');
    
    // Salva il PDF
    doc.save('menu_pizzeria_il_semaforo.pdf');
  }

  // Mostra la pagina principale all'avvio
  window.onload = function() {
    // Simula caricamento
    setTimeout(() => {
      document.getElementById('loading-screen').style.opacity = '0';
      document.getElementById('loading-screen').style.visibility = 'hidden';
      document.body.classList.add('loaded');
      showMainPage();
      checkCookies();
    }, 1500);
  };
  
  // Chiudi il modal se si clicca fuori
  window.onclick = function(event) {
    if (event.target == document.getElementById('auth-modal')) {
      closeAuthModal();
    }
  };
</script>

</body>
</html>
